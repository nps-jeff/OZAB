---
title: "intro_to_ozab"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{intro_to_ozab}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r eval=FALSE}
library(OZAB)
library(tidyverse)

## Examine Provided Dataset
sagebrush

## Exploratory Plots

### Categorical Variable
sagebrush %>%
  plot_cover_class_by_covariate('Artemisia tridentata', Fire)

### Continuous Variable
sagebrush %>%
  mutate(Topography = cut(Topography, breaks = c(-0.25, -0.15, 0, 0.15, 0.25))) %>%
  plot_cover_class_by_covariate('Artemisia tridentata', Topography)

## Big Sagebrush Analysis

### Filter Dataset, Add Presence Indicator, and Transform Covariates
sagebrush2 <-
  sagebrush %>%
    filter(Species == 'Artemisia tridentata') %>%
    add_presence(cover_class_col = `Cover Class`) %>%
    mutate(
      `Dist. to Bound` = `Dist. to Bound` / 1000,
       Topography2 = Topography^2
      )

### Run Model
bsage_result <-
  ozab(
    sagebrush2,
    `Presence` ~ Topography + Fire + `Dist. to Bound`,
    `Cover Class` ~ Topography + Topography2 + Fire,
    cutpoint_scheme = daubenmire(),
    chains = 1
    )
```
